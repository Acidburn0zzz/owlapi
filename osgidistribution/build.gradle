
description = 'OWLAPI :: OSGi and Compatibility Distribution'

//apply plugin: 'biz.aQute.bnd.builder'

dependencies {
    compile project(':owlapi-apibinding')
    compile project(':owlapi-tools')
    compile project(':owlapi-impl')
    compile project(':owlapi-parsers')
    compile project(':owlapi-oboformat')
    compile project(':owlapi-rio')
    compile project(':owlapi-api')
    compile project(':owlapi-compatibility')
  compile group: 'org.apache.servicemix.bundles', name: 'org.apache.servicemix.bundles.javax-inject', version: '1_2'
    compile group: 'org.apache.servicemix.bundles', name: 'org.apache.servicemix.bundles.aopalliance', version: '1.0_6'
    testCompile group: 'org.apache.felix', name: 'org.apache.felix.framework', version: '5.4.0'
    testCompile group: 'org.apache.felix', name: 'org.osgi.core', version: '1.4.0'
}

apply plugin: 'java'
import aQute.bnd.gradle.Bundle
task jar(overwrite: true, type: Bundle) {
    dependsOn classes
    configuration=configurations.compile
    manifest {
        attributes('Export-Package': "" +
                "com.clarkparsia.*," +
                "org.semanticweb.owlapi.*;-split-package:=merge-first," +
                "org.semanticweb.owlapitools.*;-split-package:=merge-first," +
                "uk.ac.manchester.*;-split-package:=merge-first," +
                "org.obolibrary.*;-split-package:=merge-first," +
                "org.coode.*;-split-package:=merge-first," +
                "de.uulm.*;-split-package:=merge-first",

                "Import-Package": "com.github.benmanes.*;resolution:=optional,*" ,
                
                "Bundle-SymbolicName": "org.semanticweb.owl.owlapi"
                
        )
    }
}  
